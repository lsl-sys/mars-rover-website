<!DOCTYPE html>
<html>
<head>
    <title>本地存储测试</title>
</head>
<body>
    <h1>本地存储测试</h1>
    <button onclick="testStorage()">测试存储</button>
    <button onclick="showStorage()">显示数据</button>
    <button onclick="clearStorage()">清空数据</button>
    <div id="result"></div>

    <script>
        function testStorage() {
            const testData = {
                name: '测试用户',
                studentId: '20231234',
                major: '计算机科学',
                grade: 'freshman',
                email: 'test@example.com',
                phone: '13800138000',
                interestArea: 'programming',
                experience: '测试经历',
                motivation: '测试申请原因',
                timestamp: new Date().toISOString(),
                id: 'test123'
            };
            
            const existing = JSON.parse(localStorage.getItem('applications') || '[]');
            existing.push(testData);
            localStorage.setItem('applications', JSON.stringify(existing));
            
            document.getElementById('result').innerHTML = `测试数据已添加，当前申请数: ${existing.length}`;
        }

        function showStorage() {
            const data = localStorage.getItem('applications');
            if (data) {
                const applications = JSON.parse(data);
                document.getElementById('result').innerHTML = `
                    <h3>当前存储的申请数据 (${applications.length}条)</h3>
                    <pre>${JSON.stringify(applications, null, 2)}</pre>
                `;
            } else {
                document.getElementById('result').innerHTML = '暂无申请数据';
            }
        }

        function clearStorage() {
            localStorage.removeItem('applications');
            document.getElementById('result').innerHTML = '数据已清空';
        }
    </script>
</body>
</html>